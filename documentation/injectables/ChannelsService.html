<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>dabubble documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">dabubble documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >ChannelsService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/services/channels.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#channelsOpen" >channelsOpen</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#collectionName" >collectionName</a>
                            </li>
                            <li>
                                <a href="#currentChannel$" >currentChannel$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#currentChannelSubject" >currentChannelSubject</a>
                            </li>
                            <li>
                                <a href="#default" >default</a>
                            </li>
                            <li>
                                <a href="#mobile" >mobile</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#previousTimestamp" >previousTimestamp</a>
                            </li>
                            <li>
                                <a href="#threadAktive" >threadAktive</a>
                            </li>
                            <li>
                                <a href="#userChanges$" >userChanges$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#userChangesSubject" >userChangesSubject</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#checkAndSetPreviousTimestamp" >checkAndSetPreviousTimestamp</a>
                            </li>
                            <li>
                                <a href="#clearCurrentChannel" >clearCurrentChannel</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createChannel" >createChannel</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteChannel" >deleteChannel</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#determineChannelMembers" >determineChannelMembers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAllChannels" >getAllChannels</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getChannelById" >getChannelById</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getChannelMembers" >getChannelMembers</a>
                            </li>
                            <li>
                                <a href="#getConversationPartnerName" >getConversationPartnerName</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#getConversationPartnerNames" >getConversationPartnerNames</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#getCurrentUserName" >getCurrentUserName</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getPrivateChannelByMembers" >getPrivateChannelByMembers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#initDefaultChannel" >initDefaultChannel</a>
                            </li>
                            <li>
                                <a href="#loadChannelsRealtime" >loadChannelsRealtime</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#onResize" >onResize</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#searchAndSetDefaultChannel" >searchAndSetDefaultChannel</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#selectChannel" >selectChannel</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#setDefaultChannel" >setDefaultChannel</a>
                            </li>
                            <li>
                                <a href="#toggleChannelsOpen" >toggleChannelsOpen</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#trackUserChanges" >trackUserChanges</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateChannel" >updateChannel</a>
                            </li>
                            <li>
                                <a href="#updateUserName" >updateUserName</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(firestore: Firestore, authService: <a href="../injectables/AuthService.html" target="_self">AuthService</a>, stateService: <a href="../injectables/StateService.html" target="_self">StateService</a>, userService: <a href="../injectables/UserService.html" target="_self">UserService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/shared/services/channels.service.ts:22</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Creates an instance of the ChannelsService.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>firestore</td>
                                                  
                                                        <td>
                                                                    <code>Firestore</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>Firestore service for interacting with the Firestore database.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>authService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>AuthService for managing user authentication.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>stateService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/StateService.html" target="_self" >StateService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>StateService for managing application state.</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>userService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>UserService for managing user data.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkAndSetPreviousTimestamp"></a>
                    <span class="name">
                        <span ><b>checkAndSetPreviousTimestamp</b></span>
                        <a href="#checkAndSetPreviousTimestamp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkAndSetPreviousTimestamp(currentTimestamp: string | Date | undefined)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="380"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:380</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Checks if the given timestamp represents a different day than the previous one.
Updates the stored timestamp for future comparisons.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>currentTimestamp</td>
                                            <td>
                                                        <code>string | Date | undefined</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The timestamp to check.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <ul>
<li><code>true</code> if the day has changed, <code>false</code> otherwise.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearCurrentChannel"></a>
                    <span class="name">
                        <span ><b>clearCurrentChannel</b></span>
                        <a href="#clearCurrentChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearCurrentChannel()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="308"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:308</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Clears the current channel by emitting a null value to the current channel observable and
removing the last channel ID from local storage.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createChannel</b></span>
                        <a href="#createChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createChannel(channel: <a href="../interfaces/Channel.html" target="_self">Channel</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="131"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:131</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates a new channel in Firestore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channel</td>
                                            <td>
                                                            <code><a href="../interfaces/Channel.html" target="_self" >Channel</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The object containing the channel data to be created.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A Promise resolving when the channel has been created.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>deleteChannel</b></span>
                        <a href="#deleteChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteChannel(channelId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="320"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:320</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Deletes a channel with the given ID from Firestore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channelId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The ID of the channel to delete.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="determineChannelMembers"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>determineChannelMembers</b></span>
                        <a href="#determineChannelMembers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>determineChannelMembers(channel: <a href="../interfaces/Channel.html" target="_self">Channel</a>, userId: string | null)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="229"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:229</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Determines the members of a private channel.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channel</td>
                                            <td>
                                                            <code><a href="../interfaces/Channel.html" target="_self" >Channel</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The private channel object.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                        <code>string | null</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The current user&#39;s ID.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string[]&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A list of usernames in the channel.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllChannels"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getAllChannels</b></span>
                        <a href="#getAllChannels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAllChannels()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="172"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:172</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves all channels from Firestore, sorted by their name.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Channel.html" target="_self" >Promise&lt;Channel[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves with an array of Channel objects.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getChannelById"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getChannelById</b></span>
                        <a href="#getChannelById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getChannelById(channelId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="150"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:150</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves a channel by its ID from Firestore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channelId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The ID of the channel to retrieve.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Channel.html" target="_self" >Promise&lt;Channel | null&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>A Promise resolving to the retrieved channel object or null if the channel does not exist.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getChannelMembers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getChannelMembers</b></span>
                        <a href="#getChannelMembers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getChannelMembers(privateChannels: <a href="../interfaces/Channel.html" target="_self">Channel[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="209"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:209</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves the members of a list of private channels.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>privateChannels</td>
                                            <td>
                                                            <code><a href="../interfaces/Channel.html" target="_self" >Channel[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>An array of private channel objects.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;literal type&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>An object mapping channel IDs to arrays of user IDs.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConversationPartnerName"></a>
                    <span class="name">
                        <span ><b>getConversationPartnerName</b></span>
                        <a href="#getConversationPartnerName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConversationPartnerName(channelId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, channelMembers: literal type)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="269"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:269</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves the name of the first conversation partner for a given channel.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channelId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The ID of the channel to find the conversation partner for.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>channelMembers</td>
                                            <td>
                                                        <code>literal type</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>An object mapping channel IDs to arrays of member names.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>The name of the first conversation partner or &#39;Unbekannt&#39; if not found.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConversationPartnerNames"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>getConversationPartnerNames</b></span>
                        <a href="#getConversationPartnerNames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getConversationPartnerNames(memberIds: string[], userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="244"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:244</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves the conversation partner&#39;s name.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>memberIds</td>
                                            <td>
                                                        <code>string[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The list of member IDs in the channel.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The current user&#39;s ID.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string[]&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A list containing the partner&#39;s username.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCurrentUserName"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Async</span>
                        <span ><b>getCurrentUserName</b></span>
                        <a href="#getCurrentUserName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCurrentUserName(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="257"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:257</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves the current user&#39;s name and appends &quot;(You)&quot;.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The current user&#39;s ID.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string[]&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A list containing the user&#39;s name with &quot;(You)&quot;.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPrivateChannelByMembers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getPrivateChannelByMembers</b></span>
                        <a href="#getPrivateChannelByMembers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getPrivateChannelByMembers(memberIds: string[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="332"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:332</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves all private channels from Firestore that contain all of the given member IDs.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>memberIds</td>
                                            <td>
                                                        <code>string[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The IDs of the members to search for.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Channel.html" target="_self" >Promise&lt;Channel[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>An array of private channels that contain all of the given member IDs.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initDefaultChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>initDefaultChannel</b></span>
                        <a href="#initDefaultChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initDefaultChannel()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="68"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:68</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes the default channel for the current user.
Retrieves all channels, filters them to find the channels the user is a member of,
and attempts to set one as the default channel.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadChannelsRealtime"></a>
                    <span class="name">
                        <span ><b>loadChannelsRealtime</b></span>
                        <a href="#loadChannelsRealtime"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadChannelsRealtime(callback: (channels: <a href="../interfaces/Channel.html">Channel[]</a>) => void)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="190"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:190</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads the channels in real-time from Firestore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>callback</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>A callback function that is called whenever the channels change.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>A function that can be called to unsubscribe from the Firestore channel</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onResize"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>onResize</b></span>
                        <a href="#onResize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onResize()</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@HostListener(&#x27;window:resize&#x27;, [&#x27;$event&#x27;])<br /></code>
                </td>
            </tr>

                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="46"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:46</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates the <code>mobile</code> property based on the current window width.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchAndSetDefaultChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>searchAndSetDefaultChannel</b></span>
                        <a href="#searchAndSetDefaultChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>searchAndSetDefaultChannel(userChannels: <a href="../interfaces/Channel.html" target="_self">Channel[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="90"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:90</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Searches for a channel to set as the default channel based on the channels the user is a member of.
Looks for a channel ID in the local storage and attempts to find a matching channel in the provided array.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userChannels</td>
                                            <td>
                                                            <code><a href="../interfaces/Channel.html" target="_self" >Channel[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The channels the user is a member of.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>selectChannel</b></span>
                        <a href="#selectChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>selectChannel(channelId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="109"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:109</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Selects a channel based on the provided channel ID.
Sets the active channel ID and name when a new channel is received.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channelId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The ID of the channel to select.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <ul>
<li>A promise that resolves when the channel is selected.</li>
</ul>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setDefaultChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>setDefaultChannel</b></span>
                        <a href="#setDefaultChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setDefaultChannel()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="54"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:54</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Sets the default channel to the first channel in the channel list.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A Promise that resolves when the default channel has been set.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleChannelsOpen"></a>
                    <span class="name">
                        <span ><b>toggleChannelsOpen</b></span>
                        <a href="#toggleChannelsOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleChannelsOpen()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="282"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:282</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggles the channels open state between true and false.
If the channels are currently open, they are closed and vice versa.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                <p>Nothing.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="trackUserChanges"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>trackUserChanges</b></span>
                        <a href="#trackUserChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>trackUserChanges()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="360"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:360</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Tracks changes to all user documents in the Firestore users collection.
Listens to the users collection and emits an event on the userChangesSubject observable.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateChannel"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateChannel</b></span>
                        <a href="#updateChannel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateChannel(channelId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, updatedData: <a href="../interfaces/Channel.html" target="_self">Partial&lt;Channel&gt;</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="293"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:293</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates a channel with the given ID in Firestore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>channelId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The ID of the channel to update.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>updatedData</td>
                                            <td>
                                                            <code><a href="../interfaces/Channel.html" target="_self" >Partial&lt;Channel&gt;</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The data to update for the channel.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the channel is updated.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateUserName"></a>
                    <span class="name">
                        <span ><b>updateUserName</b></span>
                        <a href="#updateUserName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateUserName(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, newName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="351"
                                    class="link-to-prism">src/app/shared/services/channels.service.ts:351</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Emits an event on the userChangesSubject observable whenever a user&#39;s name is changed.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The ID of the user whose name was changed.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>newName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The new name of the user.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="channelsOpen"></a>
                    <span class="name">
                        <span ><b>channelsOpen</b></span>
                        <a href="#channelsOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/shared/services/channels.service.ts:20</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="collectionName"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>collectionName</b></span>
                        <a href="#collectionName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;channels&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/shared/services/channels.service.ts:18</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentChannel$"></a>
                    <span class="name">
                        <span ><b>currentChannel$</b></span>
                        <a href="#currentChannel$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.currentChannelSubject.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="14" class="link-to-prism">src/app/shared/services/channels.service.ts:14</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentChannelSubject"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>currentChannelSubject</b></span>
                        <a href="#currentChannelSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;Channel | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/app/shared/services/channels.service.ts:13</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="default"></a>
                    <span class="name">
                        <span ><b>default</b></span>
                        <a href="#default"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/shared/services/channels.service.ts:21</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mobile"></a>
                    <span class="name">
                        <span ><b>mobile</b></span>
                        <a href="#mobile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/shared/services/channels.service.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="previousTimestamp"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>previousTimestamp</b></span>
                        <a href="#previousTimestamp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>number | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/shared/services/channels.service.ts:17</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="threadAktive"></a>
                    <span class="name">
                        <span ><b>threadAktive</b></span>
                        <a href="#threadAktive"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/shared/services/channels.service.ts:19</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userChanges$"></a>
                    <span class="name">
                        <span ><b>userChanges$</b></span>
                        <a href="#userChanges$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.userChangesSubject.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/shared/services/channels.service.ts:16</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userChangesSubject"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>userChangesSubject</b></span>
                        <a href="#userChangesSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new BehaviorSubject&lt;{ id: string; name: string } | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/shared/services/channels.service.ts:15</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { HostListener, Injectable } from &#x27;@angular/core&#x27;;
import { Firestore, collection, doc, getDoc, getDocs, setDoc, addDoc, onSnapshot, query, where, deleteDoc } from &#x27;@angular/fire/firestore&#x27;;
import { Channel } from &#x27;../../models/channel&#x27;;
import { BehaviorSubject } from &#x27;rxjs&#x27;;
import { AuthService } from &#x27;./auth.service&#x27;;
import { StateService } from &#x27;./state.service&#x27;;
import { UserService } from &#x27;./user.service&#x27;;

@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class ChannelsService {
  private currentChannelSubject &#x3D; new BehaviorSubject&lt;Channel | null&gt;(null);
  currentChannel$ &#x3D; this.currentChannelSubject.asObservable();
  private userChangesSubject &#x3D; new BehaviorSubject&lt;{ id: string; name: string } | null&gt;(null);
  userChanges$ &#x3D; this.userChangesSubject.asObservable();
  private previousTimestamp: number | null &#x3D; null;
  private collectionName &#x3D; &#x27;channels&#x27;;
  threadAktive: boolean &#x3D; false;
  channelsOpen: boolean &#x3D; true;
  default: boolean &#x3D; false;
  mobile &#x3D; false

  /**
   * Creates an instance of the ChannelsService.
   * @param {Firestore} firestore Firestore service for interacting with the Firestore database.
   * @param {AuthService} authService AuthService for managing user authentication.
   * @param {StateService} stateService StateService for managing application state.
   * @param {UserService} userService UserService for managing user data.
   * @constructor
   */
  constructor(
    private firestore: Firestore,
    private authService: AuthService,
    private stateService: StateService,
    private userService: UserService
  ) {
    this.trackUserChanges();
    this.onResize();
  }

  /**
   * Updates the &#x60;mobile&#x60; property based on the current window width.
  */
  @HostListener(&#x27;window:resize&#x27;, [&#x27;$event&#x27;])
  onResize() {
    this.mobile &#x3D; window.innerWidth &lt;&#x3D; 900;
  }

  /**
   * Sets the default channel to the first channel in the channel list.
   * @returns A Promise that resolves when the default channel has been set.
   */
  async setDefaultChannel(): Promise&lt;void&gt; {
    try {
      this.initDefaultChannel();
    } catch (error) {
      console.error(&#x27;Fehler beim Setzen des Default Channels:&#x27;, error);
    }
  }


  /**
   * Initializes the default channel for the current user.
   * Retrieves all channels, filters them to find the channels the user is a member of,
   * and attempts to set one as the default channel.
   */
  async initDefaultChannel() {
    const userId &#x3D; this.authService.userId();
    if (!userId) { return console.warn(&#x27;Keine Benutzer-ID verfgbar.&#x27;) }
    const channels &#x3D; await this.getAllChannels();
    const userChannels &#x3D; channels.filter(channel &#x3D;&gt; channel.members &amp;&amp; channel.members.includes(userId));
    if (userChannels.length &gt; 0) {
      this.searchAndSetDefaultChannel(userChannels);
    } else {
      if (!this.default) {
        this.clearCurrentChannel();
        this.default &#x3D; true;
        this.currentChannelSubject.next(null);
      }
    }
  }


  /**
   * Searches for a channel to set as the default channel based on the channels the user is a member of.
   * Looks for a channel ID in the local storage and attempts to find a matching channel in the provided array.
   * @param userChannels The channels the user is a member of.
   */
  async searchAndSetDefaultChannel(userChannels: Channel[]) {
    const cachedChannelId &#x3D; localStorage.getItem(&#x27;lastChannelId&#x27;);
    const defaultChannel &#x3D; cachedChannelId
      ? userChannels.find(channel &#x3D;&gt; channel.id &#x3D;&#x3D;&#x3D; cachedChannelId) || userChannels[0]
      : userChannels[0];
    if (defaultChannel &amp;&amp; defaultChannel.id) {
      if (!this.mobile)
        await this.selectChannel(defaultChannel.id);
    } else 
      console.warn(&#x27;Kein gltiger Default-Channel gefunden.&#x27;);
  }


  /**
   * Selects a channel based on the provided channel ID.
   * Sets the active channel ID and name when a new channel is received.
   * @param {string} channelId - The ID of the channel to select.
   * @returns {Promise&lt;void&gt;} - A promise that resolves when the channel is selected.
   */
  async selectChannel(channelId: string): Promise&lt;void&gt; {
    if (!channelId)
      return console.error(&#x27;Ungltige Channel-ID.&#x27;);
    const channelRef &#x3D; doc(this.firestore, &#x60;${this.collectionName}/${channelId}&#x60;);
    onSnapshot(channelRef, (channelDoc) &#x3D;&gt; {
      if (channelDoc.exists()) {
        const channel &#x3D; { id: channelId, ...channelDoc.data() } as Channel;
        this.currentChannelSubject.next(channel);
        localStorage.setItem(&#x27;lastChannelId&#x27;, channel.id || &quot;&quot;);
      }
    });
    if (window.innerWidth &lt;&#x3D; 900)
      this.stateService.closeMenuAndThread();
    this.stateService.setThreadchatState(&#x27;out&#x27;);
  }


  /**
   * Creates a new channel in Firestore.
   * @param {Channel} channel The object containing the channel data to be created.
   * @returns {Promise&lt;void&gt;} A Promise resolving when the channel has been created.
   */
  async createChannel(channel: Channel): Promise&lt;void&gt; {
    const channelsCollection &#x3D; collection(this.firestore, this.collectionName);
    try {
      await addDoc(channelsCollection, {
        ...channel,
        createdAt: new Date().getTime(),
      });
    } catch (error) {
      console.error(&#x27;Fehler beim Erstellen des Channels:&#x27;, error);
      throw error;
    }
  }


  /**
   * Retrieves a channel by its ID from Firestore.
   * @param {string} channelId The ID of the channel to retrieve.
   * @returns {Promise&lt;Channel | null&gt;} A Promise resolving to the retrieved channel object or null if the channel does not exist.
   */
  async getChannelById(channelId: string): Promise&lt;Channel | null&gt; {
    const channelRef &#x3D; doc(this.firestore, &#x60;${this.collectionName}/${channelId}&#x60;);
    try {
      const channelSnapshot &#x3D; await getDoc(channelRef);
      if (channelSnapshot.exists()) {
        return channelSnapshot.data() as Channel;
      } else {
        console.error(&#x27;Channel nicht gefunden&#x27;);
        return null;
      }
    } catch (error) {
      console.error(&#x27;Fehler beim Abrufen des Channels:&#x27;, error);
      throw error;
    }
  }


  /**
   * Retrieves all channels from Firestore, sorted by their name.
   * @returns A promise that resolves with an array of Channel objects.
   * @throws Will throw an error if there is an issue retrieving the channels.
   */
  async getAllChannels(): Promise&lt;Channel[]&gt; {
    const channelsRef &#x3D; collection(this.firestore, this.collectionName);
    try {
      const querySnapshot &#x3D; await getDocs(channelsRef);
      return querySnapshot.docs.map(doc &#x3D;&gt; ({ id: doc.id, ...doc.data() } as Channel))
        .sort((a, b) &#x3D;&gt; a.name.localeCompare(b.name));
    } catch (error) {
      console.error(&#x27;Fehler beim Abrufen der Channels:&#x27;, error);
      throw error;
    }
  }


  /**
   * Loads the channels in real-time from Firestore. 
   * @param callback A callback function that is called whenever the channels change.
   * @returns A function that can be called to unsubscribe from the Firestore channel
   */
  loadChannelsRealtime(callback: (channels: Channel[]) &#x3D;&gt; void): () &#x3D;&gt; void {
    const userId &#x3D; this.authService.userId();
    const channelsRef &#x3D; collection(this.firestore, this.collectionName);
    const queryRef &#x3D; query(channelsRef, where(&#x27;members&#x27;, &#x27;array-contains&#x27;, userId));
    const unsubscribe &#x3D; onSnapshot(queryRef, (snapshot) &#x3D;&gt; {
      const channels &#x3D; snapshot.docs
        .map(doc &#x3D;&gt; ({ id: doc.id, ...doc.data() } as Channel))
        .sort((a, b) &#x3D;&gt; a.name.localeCompare(b.name));
      callback(channels);
    });
    return unsubscribe;
  }


  /**
   * Retrieves the members of a list of private channels.
   * @param {Channel[]} privateChannels - An array of private channel objects.
   * @returns {Promise&lt;{ [channelId: string]: string[] }&gt;} - An object mapping channel IDs to arrays of user IDs.
   */
  async getChannelMembers(privateChannels: Channel[]): Promise&lt;{ [channelId: string]: string[] }&gt; {
    const userId &#x3D; this.authService.userId();
    const channelMembers: { [channelId: string]: string[] } &#x3D; {};
    for (const channel of privateChannels) {
      if (!channel.id) {
        console.error(&#x27;Channel has no ID:&#x27;, channel);
        continue;
      }
      channelMembers[channel.id] &#x3D; await this.determineChannelMembers(channel, userId);
    }
    return channelMembers;
  }


  /**
   * Determines the members of a private channel.
   * @param {Channel} channel - The private channel object.
   * @param {string} userId - The current user&#x27;s ID.
   * @returns {Promise&lt;string[]&gt;} - A list of usernames in the channel.
   */
  private async determineChannelMembers(channel: Channel, userId: string | null): Promise&lt;string[]&gt; {
    const memberIds &#x3D; channel.members;
    if (memberIds.length &#x3D;&#x3D;&#x3D; 2 &amp;&amp; userId)
      return this.getConversationPartnerNames(memberIds, userId);
    if (memberIds.length &#x3D;&#x3D;&#x3D; 1 &amp;&amp; memberIds[0] &#x3D;&#x3D;&#x3D; userId)
      return this.getCurrentUserName(userId);
    return [&#x27;Unknown&#x27;];
  }

  /**
   * Retrieves the conversation partner&#x27;s name.
   * @param {string[]} memberIds - The list of member IDs in the channel.
   * @param {string} userId - The current user&#x27;s ID.
   * @returns {Promise&lt;string[]&gt;} - A list containing the partner&#x27;s username.
   */
  private async getConversationPartnerNames(memberIds: string[], userId: string): Promise&lt;string[]&gt; {
    const conversationPartnerId &#x3D; memberIds.find(id &#x3D;&gt; id !&#x3D;&#x3D; userId);
    if (!conversationPartnerId) return [&#x27;Unknown&#x27;];
    const usernames &#x3D; await this.userService.getUsernamesByIds([conversationPartnerId]);
    return usernames.map(user &#x3D;&gt; user.name);
  }


  /**
   * Retrieves the current user&#x27;s name and appends &quot;(You)&quot;.
   * @param {string} userId - The current user&#x27;s ID.
   * @returns {Promise&lt;string[]&gt;} - A list containing the user&#x27;s name with &quot;(You)&quot;.
   */
  private async getCurrentUserName(userId: string): Promise&lt;string[]&gt; {
    const currentUser &#x3D; await this.userService.getUsernamesByIds([userId]);
    return currentUser.map(user &#x3D;&gt; &#x60;${user.name} (You)&#x60;);
  }


  /**
   * Retrieves the name of the first conversation partner for a given channel.
   * @param channelId - The ID of the channel to find the conversation partner for.
   * @param channelMembers - An object mapping channel IDs to arrays of member names.
   * @returns The name of the first conversation partner or &#x27;Unbekannt&#x27; if not found.
   */
  getConversationPartnerName(channelId: string, channelMembers: { [channelId: string]: string[] }): string {
    const members &#x3D; channelMembers[channelId];
    if (!members || members.length &#x3D;&#x3D;&#x3D; 0)
      return &#x27;Unbekannt&#x27;;
    return members[0];
  }


  /**
   * Toggles the channels open state between true and false.
   * If the channels are currently open, they are closed and vice versa.
   * @returns {void} Nothing.
   */
  toggleChannelsOpen(): void {
    this.channelsOpen &#x3D; !this.channelsOpen;
  }


  /**
   * Updates a channel with the given ID in Firestore.
   * @param channelId The ID of the channel to update.
   * @param updatedData The data to update for the channel.
   * @returns A promise that resolves when the channel is updated.
   */
  async updateChannel(channelId: string, updatedData: Partial&lt;Channel&gt;): Promise&lt;void&gt; {
    const channelRef &#x3D; doc(this.firestore, &#x60;${this.collectionName}/${channelId}&#x60;);
    try {
      await setDoc(channelRef, updatedData, { merge: true });
    } catch (error) {
      console.error(&#x27;Fehler beim Aktualisieren des Channels:&#x27;, error);
      throw error;
    }
  }


  /**
   * Clears the current channel by emitting a null value to the current channel observable and
   * removing the last channel ID from local storage.
   */
  clearCurrentChannel(): void {
    this.currentChannelSubject.next(null);
    localStorage.removeItem(&#x27;lastChannelId&#x27;);
    this.default
    this.setDefaultChannel();
  }


  /**
   * Deletes a channel with the given ID from Firestore.
   * @param channelId The ID of the channel to delete.
   */
  async deleteChannel(channelId: string): Promise&lt;void&gt; {
    const channelRef &#x3D; doc(this.firestore, &#x60;${this.collectionName}/${channelId}&#x60;);
    try {await deleteDoc(channelRef)} 
    catch (error) {console.error(&#x27;Fehler beim Lschen des Channels:&#x27;, error)}
  }


  /**
   * Retrieves all private channels from Firestore that contain all of the given member IDs.
   * @param memberIds The IDs of the members to search for.
   * @returns An array of private channels that contain all of the given member IDs.
   */
  async getPrivateChannelByMembers(memberIds: string[]): Promise&lt;Channel[]&gt; {
    const channelsRef &#x3D; collection(this.firestore, this.collectionName);
    const queryRef &#x3D; query(channelsRef, where(&#x27;isPrivate&#x27;, &#x27;&#x3D;&#x3D;&#x27;, true));
    try {
      const querySnapshot &#x3D; await getDocs(queryRef);
      const channels &#x3D; querySnapshot.docs.map(doc &#x3D;&gt; ({ id: doc.id, ...doc.data() } as Channel));
      return channels.filter(channel &#x3D;&gt; memberIds.every(memberId &#x3D;&gt; channel.members.includes(memberId)));
    } catch (error) {
      console.error(&#x27;Fehler beim Abrufen privater Channels:&#x27;, error);
      return [];
    }
  }


  /**
   * Emits an event on the userChangesSubject observable whenever a user&#x27;s name is changed.
   * @param userId The ID of the user whose name was changed.
   * @param newName The new name of the user.
   */
  updateUserName(userId: string, newName: string): void {
    this.userChangesSubject.next({ id: userId, name: newName });
  }


  /**
   * Tracks changes to all user documents in the Firestore users collection.
   * Listens to the users collection and emits an event on the userChangesSubject observable.
   */
  private trackUserChanges(): void {
    const usersRef &#x3D; collection(this.firestore, &#x27;users&#x27;);
    onSnapshot(usersRef, (snapshot) &#x3D;&gt; {
      snapshot.docChanges().forEach((change) &#x3D;&gt; {
        if (change.type &#x3D;&#x3D;&#x3D; &#x27;modified&#x27;) {
          const updatedUser &#x3D; { id: change.doc.id, ...change.doc.data() } as { id: string; name: string };
          this.userChangesSubject.next(updatedUser);
        }
      });
    });
  }


  /**
 * Checks if the given timestamp represents a different day than the previous one.
 * Updates the stored timestamp for future comparisons.
 * @param {string | Date | undefined} currentTimestamp - The timestamp to check.
 * @returns {boolean} - &#x60;true&#x60; if the day has changed, &#x60;false&#x60; otherwise.
 * @throws {Error} - If an invalid timestamp is provided.
 */
  checkAndSetPreviousTimestamp(currentTimestamp: string | Date | undefined): boolean {
    if (!currentTimestamp) return false;
    const currentDate &#x3D; new Date(currentTimestamp);
    if (isNaN(currentDate.getTime()))
      throw new Error(&#x27;Invalid timestamp provided&#x27;);
    if (!this.previousTimestamp) {
      this.previousTimestamp &#x3D; currentDate.getTime();
      return true;
    }
    const previousDate &#x3D; new Date(this.previousTimestamp);
    const isDifferentDay &#x3D;
      currentDate.getDate() !&#x3D;&#x3D; previousDate.getDate() ||
      currentDate.getMonth() !&#x3D;&#x3D; previousDate.getMonth() ||
      currentDate.getFullYear() !&#x3D;&#x3D; previousDate.getFullYear();
    this.previousTimestamp &#x3D; currentDate.getTime();
    return isDifferentDay;
  }
}</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ChannelsService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
